<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<input type="text" id="input"> <button onclick="sendMessage()">Send</button>

</head>
<body>
	<ul id="list"></ul>
	<script src="jquery.min.js"></script>
	<script src="hmac-sha1.js"></script>
	<script src="enc-base64.js"></script>
	<script src="backbeam.js"></script>
	<script charset="UTF-8">
		function sendMessage() {
			var text = document.getElementById('input').value
			console.log('text', text)
			backbeam.sendRealTimeEvent('foo', {say:text})
		}

		backbeam.configure({
			project:'callezeta',
			env:'dev',
			shared: '5bd82df918d542f181f9308008f229c335812ba4',
			secret: 'c7b7726df5a0e96304cd6e1d44e86036038191826b52bc11dff6e2a626ea1c46b0344dcc069a14dd',
			host:'backbeamapps.dev',
			port:8079,
			// project:'communities',
			// env:'dev',
			// shared: 'abfed4e9635c047323917ef722e5f780aa3bc768',
			// secret: '1e9fa7e5a14c5c4b6d7579b91bd85ce52f12f192d7a2c2646fed2f8f4d909846980215727b401757',
			realtime: true,
		})

		backbeam.subscribeToRealTimeEvents('foo', function(event, data) {
			console.log('yay!', event, data)
		})

		backbeam.subscribeToRealTimeConnectionEvents({
			connect: function() {
				console.log('connected')
			},
			disconnect: function() {
				console.log('disconnect')
			},
			connecting: function() {
				console.log('connecting')
			},
			connectFailed: function() {
				console.log('connectFailed')
			}
		})

		backbeam.enableRealTime()

	</script>
</body>
